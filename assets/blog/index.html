<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numbat</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.9.6/ace.min.js"></script>
</head>
<body>

<article class="blog-post">
    <h1>Numbats type system</h1>

    <p>Numbat is a programming language that aims to provide a convenient way
    to perform computations with physical units.
    One of the main goals of the language is to help users write <em>correct</em> programs.

    Numbat therefore has a static type system where <em>physical dimensions</em> act as types.
    For example, the expression <code><span class="numbat-value">3</span> <span class="numbat-unit">months</span></code> has a <em>type</em> of <code class="numbat-type-identifier">Time</code>.
    The expression <code><span class="numbat-value">2</span> <span class="numbat-unit">years</span></code> also has a type of <code class="numbat-type-identifier">Time</code>.
    The compound expression <code><span class="numbat-value">3</span> <span class="numbat-unit">months</span> + <span class="numbat-value">2</span> <span class="numbat-unit">years</span></code> is therefore well-typed:
    </p>

    <div id="editor1" class="code-editor">3 months + 2 years</div>
    <pre id="output1" class="numbat-output"></pre>

    <p>
    On the other hand, <code><span class="numbat-value">3</span> <span class="numbat-unit">months</span> + <span class="numbat-value">2</span> <span class="numbat-unit">lightyears</span></code> is <em>ill</em>-typed, because the right-hand side is of type <code class="numbat-type-identifier">Length</code>.
    You can change &lsquo;years&rsquo; to &lsquo;lightyears&rsquo; in the example above to see the resulting compiler error.
    </p>

    <p>
    Before we describe the type system in more detail, let's look at two simple examples. The first program
    computes the oscillation period of a (mathematical) pendulum using the gravitational acceleration
    <code>g0</code>.
    Note that you can change the unit of the pendulum length to, say, <code span="numbat-unit">inch</code> without
    having to change the type annotations. This is in contrast to most physical-computation libraries in other
    programming languages that typically lift <em>units</em> &mdash; not the physical dimensions &mdash; to the type level.

    Also, note that you can completely remove the explicit <code><span class="ace_operator">:</span> <span class="numbat-type-identifier">Type</span></code> annotations and let the compiler infer the types:
    </p>

    <div id="editor2" class="code-editor">let pendulum_length: Length = 30 cm
let t_oscillation: Time = 2 Ï€ sqrt(pendulum_length / g0)

t_oscillation</div>
    <pre id="output2" class="numbat-output"></pre>

    <p>
        The second example demonstrates how you specify custom types using the <code span="ace_keyword">dimension</code>
        keyword.
    </p>

    <div id="editor3" class="code-editor">dimension BMI = Mass / Length^2

fn body_mass_index(mass: Mass, height: Length) -> BMI =
  round(mass / height^2 -> kg / m^2)

print(body_mass_index(69 kg, 1.65 m))
print(body_mass_index(170 lbs, 5 ft + 4 in))</div>
    <pre id="output3" class="numbat-output"></pre>



</article>


    <!-- <p> -->
    <!--     Numbat is open source. It is available both as a cross platform command-line application -->
    <!--     as well as a web version (<a href="https://numbat.dev">http://numbat.dev</a>). -->
    <!-- </p> -->

    <script type="module" src="index.js"></script>
</body>
</html>

